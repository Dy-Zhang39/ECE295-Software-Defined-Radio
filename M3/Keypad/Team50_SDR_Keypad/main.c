/*
 * Team50_SDR_Keypad.c
 *
 * Created: 3/29/2022 10:06:10 AM
 * Author : ECE295_Student
 */ 

#define F_CPU 8000000
#include <avr/io.h>
#include <util/delay.h>
#include <avr/interrupt.h>

int main(void)
{
    /* Replace with your application code */
	DDRB = 0xf0; //Set ports B 4-7 as output, 0-3 as input
	DDRD = 0x3c; //Set port D5 as output for test LED
	
	PCICR = 0x2; //Setting PCICR (ATMEGA's GIC) to enable interrupts from PCINT1
	PCMSK1 = 0xf; //Setting interrupt masks of pins PCINT8-11 to 1
	sei(); //Enable interrupts by setting I bit of the Status Register to 1
	
	volatile uint8_t PB_value;
	volatile uint8_t PD_value;
    while (1) 
    {
		PB_value = PINB;
		PD_value = PIND;
		PORTB = 0xf0;
    }
}

ISR(PCINT1_vect){
	_delay_ms(100);
	if(PINB & 0x1 == 1){
		PORTD = 0x3c;
	}
	else {
		PORTD = (PORTD & 0xc3) | 0;
	}
}



























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































